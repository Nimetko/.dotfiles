prefix_rule(pattern=["/bin/zsh", "-lc", "cat <<'EOF' > AGENTS.md\n# Repository Guidelines\n\n## Project Structure & Module Organization\nThis repository is currently a clean workspace with no committed source tree. When adding code, keep a simple, predictable layout:\n\n- `src/` for application/library code\n- `tests/` for automated tests (mirrors `src/` structure)\n- `assets/` for static files (images, fixtures)\n- `scripts/` for developer automation\n- `docs/` for architecture notes and decisions\n\nIf the stack you choose has conventional directories (e.g., `app/`, `lib/`, `cmd/`), document them here and keep the structure consistent.\n\n## Build, Test, and Development Commands\nNo build system is configured yet. When you introduce one, wire these common commands in a `Makefile` or `package.json` and keep them up to date:\n\n- `make build` or `npm run build` – produce a production build\n- `make test` or `npm test` – run the full test suite\n- `make lint` or `npm run lint` – run static checks/formatters\n- `make dev` or `npm run dev` – start the local dev server\n\n## Coding Style & Naming Conventions\nFollow community formatters for the chosen language (e.g., Prettier, Black, gofmt) and add them to the repo early. Recommended defaults until a formatter is added:\n\n- Indentation: 2 spaces for JSON/YAML/JS/TS; 4 spaces for Python\n- Files: `kebab-case` for modules/files, `PascalCase` for classes, `camelCase` for variables/functions\n- Keep functions small and prefer explicit names over abbreviations\n\n## Testing Guidelines\nNo test framework is configured yet. Add one appropriate to the language and place tests in `tests/`. Use consistent naming such as `*.test.*` or `*_test.*`. Include regression tests for bugs and cover new logic with focused unit tests.\n\n## Commit & Pull Request Guidelines\nThere is no existing Git history in this repo. Use Conventional Commits going forward:\n\n- Example: `feat: add multipy core service`\n- Use `fix:`, `docs:`, `test:`, `chore:` as appropriate\n\nPRs should include a brief summary, testing performed, and screenshots/GIFs for UI changes. Link issues when applicable.\n\n## Security & Configuration Tips\nKeep secrets out of Git. Use `.env` for local overrides and provide a `.env.example` with required keys. Document configuration defaults in `docs/` as the project grows.\nEOF"], decision="allow")
prefix_rule(pattern=["/bin/zsh", "-lc", "cat <<'EOF' > /Users/jabo/.codex/skills/build-validator/SKILL.md\n---\nname: build-validator\ndescription: Validate local or CI builds, tests, and lint runs; interpret failures; report pass/fail and next steps. Use when asked to run or verify build/test/lint commands, confirm reproducibility, or triage CI logs.\n---\n\n# Build Validation\n\n## Workflow\n1. Locate project tooling (README, Makefile, package.json, pyproject.toml, etc.).\n2. Choose the minimal command set needed to validate (`build`, `test`, `lint`).\n3. Run commands in a clean state; capture exact command and cwd.\n4. Summarize results per command with pass/fail and key errors.\n5. Propose minimal fixes or focused debugging steps.\n\n## Output\n- Commands run (in order)\n- Result summary (pass/fail)\n- Key errors (first relevant stack trace)\n- Suggested fix or next action\n\n## Guardrails\n- Avoid destructive commands or network calls unless requested.\n- Ask before running long or expensive builds.\n- Do not change code unless explicitly asked; suggest patches instead.\nEOF\n\ncat <<'EOF' > /Users/jabo/.codex/skills/architect/SKILL.md\n---\nname: architect\ndescription: Provide architecture guidance, module boundaries, data flow, API design, and trade-off analysis. Use when asked for system design, refactor plans, or architecture docs.\n---\n\n# Architecture Guidance\n\n## Workflow\n1. Clarify goals, constraints, scale, and non-functional requirements.\n2. Map current system (modules, data stores, external deps).\n3. Propose target architecture with clear boundaries and responsibilities.\n4. Define interfaces and data contracts; note invariants.\n5. Compare alternatives with trade-offs and risks.\n6. Suggest a migration plan and validation steps.\n\n## Outputs\n- Architecture summary\n- Component list with responsibilities\n- Data flow or sequence notes (ASCII ok)\n- Risks and open questions\n- Migration or implementation plan\nEOF\n\ncat <<'EOF' > /Users/jabo/.codex/skills/simplifier/SKILL.md\n---\nname: simplifier\ndescription: Simplify code and workflows without behavior changes; reduce complexity and duplication; improve readability. Use when asked to refactor, reduce complexity, or simplify logic.\n---\n\n# Simplification Workflow\n\n## Workflow\n1. Identify complexity hotspots (deep nesting, duplicate logic, large functions).\n2. Confirm behavior boundaries and tests that must pass.\n3. Propose small, safe refactors (extract functions, rename, remove dead code).\n4. Apply changes in minimal steps; keep diffs focused.\n5. Update or add tests when coverage gaps appear.\n6. Summarize impact and remaining opportunities.\n\n## Guardrails\n- Preserve public APIs unless asked.\n- Avoid behavior changes; call out any unavoidable ones.\n- Prefer reversible changes and keep commits small.\nEOF"], decision="allow")
prefix_rule(pattern=["mkdir", "-p", "/Users/jabo/Projects/ai-challenges/Multipy-agent-test/.codex/skills"], decision="allow")
prefix_rule(pattern=["git", "add", "-A"], decision="allow")
prefix_rule(pattern=["git", "commit", "-m", "Update Codex tmux window layout"], decision="allow")
prefix_rule(pattern=["git", "push"], decision="allow")
